# 📊 安全测试覆盖总结

## 测试类别（31 个）

| #   | 测试类别         | 测试内容                               |
| --- | ---------------- | -------------------------------------- |
| 1   | 价格篡改         | 篡改价格、负价格、多商品价格           |
| 2   | SQL 注入         | 产品、分类、登录接口注入               |
| 3   | XSS 攻击         | 搜索、评论、输入字段                   |
| 4   | 访问控制         | 未授权访问 Admin API                   |
| 4.5 | Admin 认证       | 已认证 Admin 权限验证、密码修改限流    |
| 5   | Rate Limiting    | 登录限流、重置密码限流                 |
| 6   | 输入验证         | 负数、超大值、无效数据                 |
| 7   | CSRF 保护        | CORS 配置验证                          |
| 8   | IDOR 越权        | 订单、购物车越权访问                   |
| 10  | 业务逻辑         | 负库存、重复结账                       |
| 11  | 信息泄露         | 错误消息、响应头                       |
| 12  | API 滥用/Webhook | 注册限流、Webhook 签名                 |
| 13  | 购物车安全       | 认证、无效商品、数量验证               |
| 14  | 地址安全         | 认证、IDOR、输入验证                   |
| 15  | 订单安全         | 认证、SQL 注入                         |
| 16  | 重置密码 Token   | 无效 token、弱密码                     |
| 17  | Admin 其他接口   | 分类、库存、发货、统计、上传、删除图片 |
| 18  | HTTP 方法        | 不支持的方法返回 405                   |
| 19  | 用户资料         | 未认证访问                             |
| 20  | 文件上传         | 未授权上传/删除图片                    |
| 21  | Admin 产品 CRUD  | PUT/DELETE 权限、SQL 注入              |
| 22  | Admin 发货       | 发货权限、物流刷新、无效 ID、XSS       |
| 23  | Admin 分类 CRUD  | PUT/DELETE 权限、Slug 注入             |
| 24  | 地址更新         | PUT 权限、XSS、无效 ID                 |
| 25  | 产品搜索         | SQL 注入、XSS、长度限制                |
| 26  | Checkout         | 空购物车、无效商品、超大/负数量        |
| 27  | 订单 Session     | 无效 Session ID、空路径                |
| 28  | 公开 API         | 产品/分类/库存不泄露敏感信息           |
| 29  | 单产品 API       | SQL 注入、无效 ID、路径遍历            |
| 30  | 购物车删除单品   | 认证、无效 ID                          |
| 31  | 认证后操作       | Admin 访问、资料隐私、订单访问         |

## API 覆盖率

| 类别      | 端点数 | 已测试 | 覆盖率   |
| --------- | ------ | ------ | -------- |
| 公开 API  | 6      | 6      | 100%     |
| 认证 API  | 4      | 4      | 100%     |
| 用户 API  | 6      | 6      | 100%     |
| Admin API | 15     | 15     | 100%     |
| **总计**  | **31** | **31** | **100%** |
